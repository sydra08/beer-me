<header class="align-center">
	<h2><%= current_user.first_name %>'s Beers</h2>
</header>


<div class="filter">
  <h4>Filters</h4>
  <% if @userbeers %>
    <%= form_tag(user_user_beers_path, method: "get") do %>
      <div class="select-wrapper 6u$ 12u$(medium)">
        <%= label_tag "Category" %>
        <%= select_tag "category", options_from_collection_for_select(@categories, "id", "name"), prompt: "All" %>
      </div>

      <div class="select-wrapper 6u$ 12u$(medium)">
        <%= label_tag "Brewery" %>
        <%= select_tag "brewery", options_from_collection_for_select(@breweries, "id", "name"), prompt: "All" %> <br>
      </div>

			<!-- <div class="select-wrapper 6u$ 12u$(medium)">
				<%= label_tag "Status" %>
				<%= select_tag "status", options_for_select([["Tried", true], ["Want to try", false]]), prompt: "All" %> <br>
			</div> -->

      <%= submit_tag "Apply Filter" %>
    <% end %>
  <% end %>
</div>

<br> </br>

<div class="list">
  <!-- need to work it out so that this page can be used as user landing and beer index...partial? -->
  <% if !@userbeers.empty? %>
    <ul>
			<!-- why does this throw an error when you first go to the page vs filters? -->
      <% @userbeers.alpha_sorted.each do |userbeer| %>
        <li><%= link_to userbeer.beer.brewery.name, brewery_path(userbeer.beer.brewery) %>: <%= link_to userbeer.beer.name, user_user_beer_path(current_user, userbeer.id) %> (abv: <%= userbeer.beer.abv %>%) <%= link_to content_tag(:i, nil, class: "fa fa-trash-o fa-6"), [current_user, userbeer], method: :delete, data: {confirm: "Are you sure you want to delete this beer?"}%></li>
      <% end %>
    </ul>
  <% else %>
    <p><em>You don't have any beers!</em></p>
  <% end %>
</div>
